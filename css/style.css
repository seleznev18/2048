:root{
--bg:#0f1720;
--panel:#0b3040;
--accent:#00d4a6;
--muted:#9aa8b2;
--cell-size:92px;
--gap:14px;
--radius:12px;
--font-xl:34px;
--font-lg:22px;
--font-md:16px;
--tile-2:#f3efe7;
--tile-4:#efe6d6;
--tile-8:#ffb86b;
--tile-16:#ff9a4d;
--tile-32:#ff7b3b;
--tile-64:#ff5d2a;
--tile-128:#ffd76b;
--tile-256:#ffd24a;
--tile-512:#ffc833;
--tile-1024:#f4c300;
--tile-2048:#e39b00;
--tile-super:#222222;
--glass:rgba(255,255,255,0.03);
}

*{
box-sizing:border-box;
margin:0;
padding:0;
font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

html,body{
height:100%;
background:linear-gradient(180deg,var(--bg) 0%, #071018 100%);
color:var(--tile-super);
-webkit-font-smoothing:antialiased;
-moz-osx-font-smoothing:grayscale;
}

.app-shell{
display:grid;
grid-template-columns:260px 1fr;
gap:28px;
max-width:1200px;
margin:28px auto;
width:calc(100% - 56px);
align-items:start;
}

.sidebar{
background:linear-gradient(180deg,var(--panel), rgba(11,48,64,0.85));
padding:22px;
border-radius:14px;
color:var(--muted);
display:flex;
flex-direction:column;
gap:18px;
box-shadow:0 10px 30px rgba(2,9,12,0.6);
border:1px solid rgba(255,255,255,0.03);
}

.brand{
display:flex;
gap:12px;
align-items:center;
}

.logo{
width:56px;
height:56px;
border-radius:10px;
background:linear-gradient(135deg,var(--accent), #00a68f);
display:flex;
align-items:center;
justify-content:center;
color:#001;
font-weight:800;
font-size:20px;
box-shadow:0 6px 18px rgba(0,212,166,0.15);
}

.subtitle{
font-size:13px;
color:var(--muted);
text-transform:uppercase;
letter-spacing:0.08em;
}

.stats-compact{
display:flex;
gap:12px;
justify-content:space-between;
align-items:center;
}

.stat{
background:var(--glass);
padding:10px;
border-radius:10px;
text-align:center;
min-width:92px;
border:1px solid rgba(255,255,255,0.02);
}

.stat-label{
font-size:12px;
color:var(--muted);
text-transform:uppercase;
letter-spacing:0.06em;
}

.stat-value{
font-size:20px;
font-weight:700;
color:var(--accent);
margin-top:6px;
}

.controls-vertical{
display:flex;
flex-direction:column;
gap:10px;
margin-top:6px;
}

.icon-btn{
background:transparent;
border:1px solid rgba(255,255,255,0.04);
color:var(--muted);
padding:12px;
border-radius:10px;
display:flex;
align-items:center;
justify-content:center;
gap:8px;
cursor:pointer;
transition:transform .18s ease, background .18s ease, color .18s ease;
}

.icon-btn:hover{
transform:translateY(-4px);
color:#fff;
background:linear-gradient(90deg, rgba(0,212,166,0.06), rgba(0,166,143,0.03));
border-color:rgba(0,212,166,0.18);
}

.meta{
margin-top:auto;
font-size:13px;
color:var(--muted);
display:flex;
flex-direction:column;
gap:6px;
}

.main-area{
display:flex;
flex-direction:column;
gap:18px;
}

.topbar{
display:flex;
justify-content:space-between;
align-items:center;
gap:12px;
}

.title{
color:#fff;
font-size:var(--font-xl);
display:flex;
align-items:center;
gap:12px;
text-shadow:0 6px 22px rgba(0,0,0,0.6);
}

.top-actions .text-btn{
background:transparent;
color:var(--muted);
border:1px solid rgba(255,255,255,0.03);
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}

.game-shell{
display:flex;
gap:24px;
align-items:flex-start;
flex-wrap:wrap;
}

.board-wrap{
background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
padding:20px;
border-radius:16px;
box-shadow:0 12px 40px rgba(0,0,0,0.5);
border:1px solid rgba(255,255,255,0.02);
}

.game-board{
width:calc(var(--cell-size) * 4 + var(--gap) * 5);
height:calc(var(--cell-size) * 4 + var(--gap) * 5);
position:relative;
padding:var(--gap);
border-radius:12px;
background:linear-gradient(180deg,#072b33 0%, #06313b 100%);
display:block;
box-shadow:inset 0 3px 0 rgba(255,255,255,0.02);
overflow:hidden;
border:2px solid rgba(255,255,255,0.02);
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
grid-template-rows:repeat(4,1fr);
gap:var(--gap);
width:100%;
height:100%;
position:absolute;
top:0;
left:0;
padding:var(--gap);
pointer-events:none;
}

.grid-cell{
background:rgba(255,255,255,0.03);
border-radius:10px;
border:1px dashed rgba(255,255,255,0.02);
box-shadow:inset 0 2px 6px rgba(0,0,0,0.35);
}

.tiles-container{
position:absolute;
inset:0;
pointer-events:none;
}

.tile{
position:absolute;
width:var(--cell-size);
height:var(--cell-size);
border-radius:10px;
display:flex;
align-items:center;
justify-content:center;
font-weight:800;
font-size:var(--font-lg);
color:#1b1b1b;
transition:transform .12s cubic-bezier(.2,.8,.2,1), left .12s linear, top .12s linear, opacity .12s ease;
will-change:transform,left,top,opacity;
box-shadow:0 8px 25px rgba(2,8,12,0.45);
user-select:none;
pointer-events:none;
border:2px solid rgba(255,255,255,0.03);
}

.tile-2{
background:var(--tile-2);
color:#776e65;
}
.tile-4{
background:var(--tile-4);
color:#776e65;
}
.tile-8{
background:var(--tile-8);
color:#fff;
}
.tile-16{
background:var(--tile-16);
color:#fff;
}
.tile-32{
background:var(--tile-32);
color:#fff;
}
.tile-64{
background:var(--tile-64);
color:#fff;
}
.tile-128{
background:var(--tile-128);
color:#2b2b2b;
font-size:18px;
}
.tile-256{
background:var(--tile-256);
color:#2b2b2b;
font-size:18px;
}
.tile-512{
background:var(--tile-512);
color:#2b2b2b;
font-size:18px;
}
.tile-1024{
background:var(--tile-1024);
color:#2b2b2b;
font-size:16px;
}
.tile-2048{
background:var(--tile-2048);
color:#2b2b2b;
font-size:16px;
}
.tile-super{
background:linear-gradient(135deg,#1f1f1f, #0b0b0b);
color:#fff;
font-size:14px;
letter-spacing:0.03em;
}

.mobile-controls{
display:flex;
flex-direction:column;
gap:10px;
margin-top:18px;
align-items:center;
}

.mc-row{
display:flex;
gap:12px;
align-items:center;
justify-content:center;
}

.mc-btn{
width:62px;
height:62px;
border-radius:12px;
background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
border:1px solid rgba(255,255,255,0.02);
display:flex;
align-items:center;
justify-content:center;
font-size:20px;
color:var(--muted);
cursor:pointer;
transition:transform .14s ease, box-shadow .14s ease;
}

.mc-btn:active{
transform:translateY(2px) scale(.98);
box-shadow:none;
}

.overlay{
position:absolute;
inset:0;
display:none;
align-items:center;
justify-content:center;
z-index:60;
}

.overlay-card{
background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
padding:18px;
border-radius:12px;
min-width:320px;
text-align:center;
border:1px solid rgba(255,255,255,0.03);
backdrop-filter:blur(6px);
}

.overlay-title{
color:var(--accent);
font-size:26px;
margin-bottom:8px;
}

.overlay-text{
color:var(--muted);
font-size:16px;
margin-bottom:12px;
}

.overlay-actions{
display:flex;
gap:12px;
justify-content:center;
align-items:center;
margin-bottom:12px;
}

#player-name{
padding:10px 12px;
border-radius:10px;
border:1px solid rgba(255,255,255,0.03);
background:transparent;
color:#fff;
min-width:160px;
outline:none;
}

.primary-btn{
background:linear-gradient(90deg,var(--accent), #00a68f);
color:#001;
padding:10px 14px;
border-radius:10px;
border:none;
cursor:pointer;
font-weight:700;
display:flex;
gap:8px;
align-items:center;
}

.overlay-success{
display:none;
color:#6ee7b7;
font-weight:700;
margin-bottom:10px;
}

.overlay-footer .secondary-btn{
background:transparent;
border:1px solid rgba(255,255,255,0.03);
color:var(--muted);
padding:8px 12px;
border-radius:10px;
cursor:pointer;
}

.modal{
display:none;
position:fixed;
inset:0;
background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.55));
z-index:120;
align-items:center;
justify-content:center;
}

.modal-card{
width:90%;
max-width:720px;
background:linear-gradient(180deg,#071a20, #06262b);
border-radius:12px;
padding:14px;
color:var(--muted);
border:1px solid rgba(255,255,255,0.02);
box-shadow:0 18px 60px rgba(0,0,0,0.8);
}

.modal-header{
display:flex;
justify-content:space-between;
align-items:center;
gap:12px;
margin-bottom:10px;
}

.modal-header h2{
color:var(--accent);
font-size:20px;
}

.close-btn{
background:transparent;
border:none;
color:var(--muted);
font-size:26px;
cursor:pointer;
}

.modal-body{
max-height:56vh;
overflow:auto;
}

.modal-footer{
display:flex;
justify-content:center;
margin-top:12px;
}

.leaders-table{
width:100%;
border-collapse:separate;
border-spacing:0 8px;
}

.leaders-table th, .leaders-table td{
padding:12px 10px;
text-align:center;
background:transparent;
color:var(--muted);
border-radius:8px;
}

.leaders-table thead th{
color:var(--accent);
font-weight:700;
font-size:14px;
text-transform:uppercase;
letter-spacing:0.06em;
}

.leaders-table tbody tr{
background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
border:1px solid rgba(255,255,255,0.02);
box-shadow:0 8px 24px rgba(0,0,0,0.5);
transition:transform .12s ease, box-shadow .12s ease;
}

.leaders-table tbody tr:hover{
transform:translateY(-4px);
box-shadow:0 20px 40px rgba(0,0,0,0.6);
}

.leaders-table td{
color:#fff;
font-weight:600;
}

.danger-btn{
background:transparent;
border:1px solid rgba(255,255,255,0.04);
color:#ff7b7b;
padding:8px 12px;
border-radius:10px;
cursor:pointer;
}

.page-footer{
color:var(--muted);
font-size:13px;
display:flex;
justify-content:space-between;
gap:12px;
align-items:center;
opacity:0.9;
}

@media (max-width:980px){
.app-shell{
grid-template-columns:1fr;
padding-bottom:40px;
gap:18px;
}
.sidebar{
order:2;
flex-direction:row;
align-items:center;
justify-content:space-between;
}
.main-area{
order:1;
}
.board-wrap{
width:100%;
}
.game-board{
margin:0 auto;
}
.stats-compact{
display:none;
}
}

@media (max-width:600px){
:root{
--cell-size:68px;
--gap:10px;
--font-xl:24px;
--font-lg:18px;
--font-md:14px;
}
.logo{
width:46px;
height:46px;
font-size:18px;
}
.title{
font-size:20px;
}
.mc-btn{
width:54px;
height:54px;
font-size:18px;
}
.app-shell{
gap:12px;
}
.page-footer{
flex-direction:column;
align-items:flex-start;
gap:6px;
}
.modal-card{
max-width:92%;
}
}

@media (max-width:400px){
:root{
--cell-size:56px;
--gap:8px;
}
.tile{
font-size:14px;
}
.logo{
width:40px;
height:40px;
}
.icon-btn{
padding:8px;
}
}
